@model Vehicle_Management.Models.UserRequest
@inject UserManager<ApplicationUser> userManager
@{
	ViewData["Title"] = "Approve Request";
}

@if (User.IsInRole("Admin"))
{
	<div class="container">
		<div class="row">
			<div class="col-md-5">
				<h1 class="pt-2">Request Details</h1>
				<form asp-controller="Home" asp-action="ApproveRequest" method="post">
					<input asp-for="Id" type="hidden" class="form-control" placeholder="@Model.Id" name="Id" disabled>
					<div class="form-group pb-3">
						<label asp-for="RequestedDate">Requested Date</label>
						<input asp-for="RequestedDate" type="date" class="form-control" placeholder=@Model.RequestedDate.ToString("dd-MM-YYYY") name="RequestedDate" disabled>
						<span asp-validation-for="RequestedDate" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						<label asp-for="PickupPoint">Pickup Location</label>
						<input asp-for="PickupPoint" type="text" class="form-control" placeholder=@Model.PickupPoint name="PickupPoint" disabled>
						<span asp-validation-for="PickupPoint" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						<label asp-for="PickupPointLandmark">Pickup Point</label>
						<input asp-for="PickupPointLandmark" type="text" class="form-control" placeholder=@Model.PickupPointLandmark name="PickupPointLandmark" disabled>
						<span asp-validation-for="PickupPointLandmark" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						<label asp-for="DropPoint">Drop Location</label>
						<input asp-for="DropPoint" type="text" class="form-control" placeholder=@Model.DropPoint name="DropPoint" disabled>
						<span asp-validation-for="DropPoint" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						<label asp-for="DropPointLandmark">Manufactured Year</label>
						<input asp-for="DropPointLandmark" type="text" class="form-control" placeholder=@Model.DropPointLandmark name="DropPointLandmark" disabled>
						<span asp-validation-for="DropPointLandmark" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						<label asp-for="CreatedDate">Requested On</label>
						<input asp-for="CreatedDate" type="date" class="form-control" placeholder=@Model.CreatedDate.ToString("dd-MM-YYYY") name="CreatedDate" value="2000-01-15" disabled>
						<span asp-validation-for="CreatedDate" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						@{
							var user = await userManager.FindByIdAsync(Model.UserId);
						}
						<label>Requested By</label>
						<input type="text" class="form-control" placeholder="@user.Name" disabled>
						<span asp-validation-for="UserId" class="text-danger"></span>
					</div>
					<div class="form-group pb-3">
						<label asp-for="Message">Message</label>
						<textarea asp-for="Message" class="form-control" name="message" rows="2" cols="30" placeholder=@Model.Message disabled></textarea>
						<span asp-validation-for="Message" class="text-danger"></span>
					</div>
					<button type="submit" class="btn btn-primary">Approve</button>
				</form>
			</div>
		</div>
	</div>
}
else
{
	<h1>Access Denied</h1>
}


